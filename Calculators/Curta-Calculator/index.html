<head>
    <link rel="icon" type="image/png" href="/images/google-drive.png">
    <title>My Drive - Google Drive</title>
    <link rel="stylesheet" href="/style.css">
    <meta name="robots" content="index, follow">
</head>

<body style="background-color: #181818; overflow-x: hidden; margin: 0px auto;">
    <iframe style="border: none; width: 100%; height:50px;" src="/menubar.html"></iframe>
    <div class="game-box">
        <iframe style="border: none; min-width: 70vh; min-height: 80vh;" id="game" scrolling="no"
            src="/Gams/minesweeper/index.html"></iframe>
        <div class="below-options">
            <div class="below-options-icons">
                <button class="hidden-button" style="pointer-events: all;"
                    onclick="navigator.clipboard.writeText(window.location.href); logEvent(analytics,'copy'); alert('Copied to Clipboard!');">
                    <img src="/images/copy.svg" class="icon" alt="Share">
                </button>
                <button class="hidden-button" style="pointer-events: all;"
                    onclick="logEvent(analytics,'fill-form');
            window.open('https:\/\/docs.google.com/forms/u/2/d/1etO1u-rh_4Qscm5jP_0CWGDhcKydwbDdu_fzOHqBGRI/edit?usp=forms_home&ouid=110834520300682587156&ths=true');">
                    <img src="/images/fill-form.svg" class="icon" alt="Form">
                </button>
                <button class="hidden-button" onclick="window.location.href = 'fullscreen'" a>
                    <img src="/images/fullscreen.svg" class="icon" alt="Share">
                </button>
            </div>
        </div>
    </div>
    <script>
        const iframe = document.getElementById("game");
        iframe.onload = function () {
            const contentHeight = iframe.contentWindow.document.body.scrollHeight;
            const contentWidth = iframe.contentWindow.document.body.scrollHeight;
            iframe.style.height = contentHeight + 'px';
            iframe.style.width = (contentWidth - 130) + 'px';
        };</script>
    <div class="description-box">
        <h2 id="score">Total Wins: ??</h2>
    </div>
    <div class="description-box">
        <p>Minesweeper is a classic single-player puzzle game where the objective is to clear a grid of hidden squares
            without detonating concealed mines. Players click on squares to reveal either a number, indicating how many
            adjacent squares contain mines, or a blank space, which may automatically clear surrounding squares. The
            challenge lies in using logical deduction to flag potential mine locations and safely uncover all non-mine
            squares. Originally popularized as a computer game in the 1990s, Minesweeper remains a timeless test of
            strategy and reasoning, offering varying difficulty levels to suit beginners and experts alike.</p>
    </div>
    <div class="description-box">
        <p>Support: The game supports computer only</p>
    </div>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
        import { getAnalytics, logEvent, initializeAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";
        // Your config here
        setTimeout(() => {
            const firebaseConfig = {
                apiKey: "AIzaSyD7tcUGHLcXKgk_T2UzHUafdrUGKRbYwPo",
                projectId: "drlve-user-ai9jdw",
                appId: "1:876820025538:web:1681673610ace986c8eb5b",
                measurementId: "G-KJPQ4MHKXR"
            };
            const app = initializeApp(firebaseConfig);

            initializeAnalytics(app);

            const analytics = getAnalytics(app);

            logEvent(analytics, 'minesweeper-played', {
                page_title: document.title,
                page_location: window.location.href,
                page_path: window.location.pathname
            });
        }, 1000);
    </script>
    <script>
        var scoreText = document.getElementById("score");
        var score = localStorage.getItem("minesweeper-score");
        score = score == null ? "0" : score;
        scoreText.innerHTML = "Total wins: " + score;
    </script>
</body>